package org.jsmith.mvc.controller.command{	import flash.events.Event;		import org.jsmith.mvc.controller.command.ICommand;	import org.jsmith.mvc.error.*;		public class SequenceCommand extends Command implements ICommand	{		private var _commands:Array;		private var _nextCommandIndex:int;				public function SequenceCommand()		{			_commands = new Array();			_nextCommandIndex = 0;					}//end constructor				public function addCommand(command:ICommand):void		{			_commands.push(command);					}//end method				public override function execute(event:Event = null):void 		{			if(_commands.length < 1)				throw new MVCError(MVCErrorCodes.COMMAND_EMPTY);							executeCommand(_nextCommandIndex, event);						}//end method				private function executeCommand(index:int, event:Event):void		{			var c:ICommand = _commands[index] as ICommand;			c.addEventListener(Event.COMPLETE, onCommandComplete);			c.execute(event);					}//end method				private function onCommandComplete(event:Event):void		{			_nextCommandIndex++;						if(_commands[_nextCommandIndex] == null)			{				onComplete();				return;							}//end if						executeCommand(_nextCommandIndex, event);					}//end method			}//end class	}//end package